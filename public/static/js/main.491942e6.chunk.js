(this.webpackJsonpexpensetracker=this.webpackJsonpexpensetracker||[]).push([[0],{134:function(t,n,e){},135:function(t,n,e){},160:function(t,n){},162:function(t,n){},172:function(t,n){},174:function(t,n){},201:function(t,n){},203:function(t,n){},204:function(t,n){},209:function(t,n){},211:function(t,n){},217:function(t,n){},219:function(t,n){},238:function(t,n){},250:function(t,n){},253:function(t,n){},256:function(t,n,e){"use strict";e.r(n);var r=e(3),c=e.n(r),a=e(127),s=e.n(a),i=(e(134),e(135),e(31)),o=e(17),u=e.n(o),j=e(40),l=e(129),d=e(18),p=function(t,n){switch(n.type){case"GET_TRANSACTIONS":return Object(d.a)(Object(d.a)({},t),{},{loading:!1,error:"",transactions:n.payload});case"ADD_TRANSACTION":return Object(d.a)(Object(d.a)({},t),{},{transactions:[].concat(Object(l.a)(t.transactions),[n.payload])});case"DELETE_TRANSACTION":return Object(d.a)(Object(d.a)({},t),{},{transactions:t.transactions.filter((function(t){return t._id!==n.payload}))});default:return t}},b=e(41),O=e.n(b),f=e(0),x={transactions:[],loading:!0,error:"",getTranactions:function(){},addTransaction:function(){},deleteTransaction:function(){}},h=Object(r.createContext)(x),m=function(t){var n=t.children,e=Object(r.useReducer)(p,x),c=Object(i.a)(e,2),a=c[0],s=c[1];function o(){return(o=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("api/v1/transactions");case 3:n=t.sent,s({type:"GET_TRANSACTIONS",payload:n.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:"TRANSACTION_ERROR",payload:t.t0.response.data.error});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function l(){return(l=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.delete("api/v1/transactions/".concat(n));case 3:return t.abrupt("return",s({type:"DELETE_TRANSACTION",payload:n}));case 6:t.prev=6,t.t0=t.catch(0),s({type:"TRANSACTION_ERROR",payload:t.t0.response.data.error});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function d(){return(d=Object(j.a)(u.a.mark((function t(n){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,O.a.post("api/v1/transactions",n,e);case 4:return r=t.sent,t.abrupt("return",s({type:"ADD_TRANSACTION",payload:r.data.data}));case 8:t.prev=8,t.t0=t.catch(1),s({type:"TRANSACTION_ERROR",payload:t.t0.response.data.error});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(f.jsx)(h.Provider,{value:{transactions:a.transactions,loading:a.loading,error:a.error,getTranactions:function(){return o.apply(this,arguments)},deleteTransaction:function(t){return l.apply(this,arguments)},addTransaction:function(t){return d.apply(this,arguments)}},children:n})},v=e(128),T=function(){var t=Object(r.useState)(""),n=Object(i.a)(t,2),e=n[0],c=n[1],a=Object(r.useState)(0),s=Object(i.a)(a,2),o=s[0],u=s[1],j=Object(r.useContext)(h).addTransaction;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Add new transaction"}),Object(f.jsxs)("form",{id:"form",onSubmit:function(t){return function(t){t.preventDefault();var n={_id:(new v.a).toString(),text:e,amount:+o};j(n)}(t)},children:[Object(f.jsxs)("div",{className:"form-control",children:[Object(f.jsx)("label",{htmlFor:"text",children:"Text"}),Object(f.jsx)("input",{type:"text",value:e,onChange:function(t){return c(t.target.value)},placeholder:"Enter text..."})]}),Object(f.jsxs)("div",{className:"form-control",children:[Object(f.jsxs)("label",{htmlFor:"amount",children:["Amount ",Object(f.jsx)("br",{}),"(negative - expense, positive - income)"]}),Object(f.jsx)("input",{type:"number",value:o,onChange:function(t){return u(parseInt(t.target.value))},placeholder:"Enter amount..."})]}),Object(f.jsx)("button",{className:"btn",children:"Add transaction"})]})]})},y=function(){var t=Object(r.useContext)(h).transactions.map((function(t){return t.amount})).reduce((function(t,n){return t+n}),0).toFixed(2);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h4",{children:"  Your Balance "}),Object(f.jsxs)("h1",{children:["$",t]})]})},N=function(){return Object(f.jsx)("h2",{children:"Expense Tracker"})},A=function(){var t=Object(r.useContext)(h).transactions,n=t.map((function(t){return t.amount})).filter((function(t){return t>0})).reduce((function(t,n){return t+n}),0).toFixed(2),e=t.map((function(t){return t.amount})).filter((function(t){return t<0})).reduce((function(t,n){return t+n}),0).toFixed(2);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"inc-exp-container",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Income"}),Object(f.jsxs)("p",{className:"money plus",children:["$",n]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Expense"}),Object(f.jsxs)("p",{className:"money minus",children:["$",Math.abs(parseInt(e))]})]})]})})},g=function(t){var n=t.transaction,e=Object(r.useContext)(h).deleteTransaction,c=n.amount<0?"-":"+";return Object(f.jsxs)("li",{className:n.amount<0?"minus":"plus",children:[n.text," ",Object(f.jsxs)("span",{children:[c,"$",Math.abs(n.amount)]}),Object(f.jsx)("button",{className:"delete-btn",onClick:function(){return e(n._id)},children:"x"})]})},C=function(){var t=Object(r.useContext)(h),n=t.transactions,e=t.getTranactions;return Object(r.useEffect)((function(){e()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"History"}),Object(f.jsx)("ul",{className:"list",children:n.map((function(t){return Object(f.jsx)(g,{transaction:t},t._id)}))})]})};var R=function(){return Object(f.jsxs)(m,{children:[Object(f.jsx)(N,{}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(y,{}),Object(f.jsx)(A,{}),Object(f.jsx)(C,{}),Object(f.jsx)(T,{})]})]})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.491942e6.chunk.js.map